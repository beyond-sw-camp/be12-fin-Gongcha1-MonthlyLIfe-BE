# ğŸíŒ€ì› ì†Œê°œ
> **[í•œí™”ì‹œìŠ¤í…œ BEYOND SWìº í”„ 12ê¸°] Final Project**  
> **ê³µì°¨1íŒ€ - ì›”ì •ì•¡ ì¸ìƒ DevOps**

<table align="center">
  <tr>
    <td align="center">
      <a href="https://github.com/celarim">
        <img src="https://mblogthumb-phinf.pstatic.net/MjAxNzA0MTNfMTQ2/MDAxNDkyMDg4OTU0NzU2.X-Ise8QGLx6BeA7f6y1lStSFaxdMRMNieJK_sB2sdokg.ll6BBI3GcX8hmiVP10LOy9b2rAZ2hHKnZFncXmzexsgg.JPEG.swhyun98/downloadfile.jpg?type=w420"
             width="120" height="150" style="object-fit: cover; border-radius: 8px;" />
        <br /><sub><b>ê¹€ê²½ì¤€</b></sub>
      </a>
    </td>
    <td align="center">
      <a href="https://github.com/Shin-JiHyun">
        <img src="https://i.namu.wiki/i/8wUNYOFiU0KQem2XbLBTkTmgGg4knQ1_xAxhTh2Yl6E0OUbwJKCNXuO32wS48LTPfXT1U3hzEmclYUhu0kOg3GBu7VFfhN-larrInwpPz2Bc6OIplUQSvQy2sMz4gMUmPxcxCsZZ_XFaOLpXsp363Q.webp"
             width="120" height="150" style="object-fit: cover; border-radius: 8px;" />
        <br /><sub><b>ì‹ ì§€í˜„</b></sub>
      </a>
    </td>
    <td align="center">
      <a href="https://github.com/leewoojin12">
        <img src="https://i.namu.wiki/i/OOrcrlumPF7y0fWMNwJGrUw29c5kJ9qtpPbLsKlKOV2OVBH3Y3j3hg9FWPNy3kCvTUMgHD68wTF2k3OscKuTtw.webp"
             width="120" height="150" style="object-fit: cover; border-radius: 8px;" />
        <br /><sub><b>ì´ìš°ì§„</b></sub>
      </a>
    </td>
    <td align="center">
      <a href="https://github.com/wkdlrn">
        <img src="https://i.namu.wiki/i/GlPkp9Dy4UIg4_LiRXKtZ2g5V-NsjY3LZi8k6WT6N3lQIHIKz8EaNESQLfZfV7lDi4E7k-VloLwSHDr21bQxVg.webp"
             width="120" height="150" style="object-fit: cover; border-radius: 8px;" />
        <br /><sub><b>ê¹€ì¬êµ¬</b></sub>
      </a>
    </td>
  </tr>
</table>

<br>
---

### ğŸ“‘ ëª©ì°¨
- [ğŸ›  ê¸°ìˆ  ìŠ¤íƒ](#-ê¸°ìˆ -ìŠ¤íƒ)
- [ğŸ“š ë°ëª¨ ì‚¬ì´íŠ¸ ë§í¬](#-ë°ëª¨-ì‚¬ì´íŠ¸-ë°”ë¡œê°€ê¸°)
- [ğŸ¨ ì„œë¹„ìŠ¤ ì†Œê°œ](#-ì„œë¹„ìŠ¤-ì†Œê°œ)
- [ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#-ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
- [ğŸ“š ë°ë¸Œì˜µìŠ¤ í”„ë¡œì íŠ¸ ëª©í‘œ](#-ë°ë¸Œì˜µìŠ¤-í”„ë¡œì íŠ¸-ëª©í‘œ)
- [âš™ï¸ ì£¼ìš” ê¸°ëŠ¥ ì‹œì—°](#-ì£¼ìš”-ê¸°ëŠ¥-ì‹œì—°)
- [ğŸ“‚ í”„ë¡œì íŠ¸ í´ë” ë°”ë¡œê°€ê¸°](#-í”„ë¡œì íŠ¸-í´ë”-ë°”ë¡œê°€ê¸°)

---

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

#### &nbsp;ã€€[ Frontend ]
![Vue.js](https://img.shields.io/badge/vue.js-%2335495e.svg?style=for-the-badge&logo=vuedotjs&logoColor=%234FC08D)

#### &nbsp;ã€€[ Backend ]
![Spring Boot](https://img.shields.io/badge/Spring%20Boot-6DB33F?style=for-the-badge&logo=Spring-Boot&logoColor=white)
![Spring Security](https://img.shields.io/badge/Spring_Security-6DB33F?style=for-the-badge&logo=Spring-Security&logoColor=white)
![JWT](https://img.shields.io/badge/JWT-%232F7D32.svg?style=for-the-badge&logo=json-web-tokens&logoColor=white)
<img src="https://img.shields.io/badge/Spring Batch-6DB33F?style=for-the-badge&logo=Spring&logoColor=white" style="border-radius: 5px;">


#### &nbsp;ã€€[ DB ]
![MariaDB](https://img.shields.io/badge/MariaDB-003545?style=for-the-badge&logo=mariadb&logoColor=white)
![Elasticsearch](https://img.shields.io/badge/elasticsearch-%230377CC.svg?style=for-the-badge&logo=elasticsearch&logoColor=white)
![Longhorn](https://img.shields.io/badge/Longhorn-FF6600?style=for-the-badge&logo=rancher&logoColor=white)

#### &nbsp;ã€€[ CI/CD ]
![Jenkins](https://img.shields.io/badge/Jenkins-D24939?style=for-the-badge&logo=jenkins&logoColor=white)
![CircleCI](https://img.shields.io/badge/circleCI-343434?style=for-the-badge&logo=circleci&logoColor=white)
![Docker](https://img.shields.io/badge/docker-2496ED?style=for-the-badge&logo=docker&logoColor=white)
![Kubernetes](https://img.shields.io/badge/kubernetes-%23326ce5.svg?style=for-the-badge&logo=kubernetes&logoColor=white)

#### &nbsp;ã€€[ Communication ]
![GitHub](https://img.shields.io/badge/github-%23121011.svg?style=for-the-badge&logo=github&logoColor=white)

<br>
---

## ğŸ¨ ì„œë¹„ìŠ¤ ì†Œê°œ

CI/CD íŒŒì´í”„ë¼ì¸ì„ í†µí•´ ê°œë°œìì˜ ì‹¤ìˆ˜ë‚˜ ë°˜ë³µì ì¸ ë°°í¬ ì ˆì°¨ì—ì„œ ì˜¤ëŠ” ì‹¤ìˆ˜, ë¶€ë‹´ì„ ì¤„ì´ê³ ì í–ˆìŠµë‹ˆë‹¤. Jenkins ê¸°ë°˜ ìë™í™”, Kubernetes Blue/Green ë°©ì‹ ë¬´ì¤‘ë‹¨ ë°°í¬, ê·¸ë¦¬ê³  ë¡œê·¸/ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œê¹Œì§€ êµ¬ì¶•í•˜ì—¬ ì•ˆì •ì ì´ê³  ë°˜ë³µ ê°€ëŠ¥í•œ ë°°í¬ ì²´ê³„ë¥¼ ê°–ì¶”ì—ˆìŠµë‹ˆë‹¤.

> ì£¼ìš” ë„ì… ìš”ì†Œ:
> - GitHub â†’ Jenkins â†’ CircleCI â†’ DockerHub â†’ Kubernetes ìë™ ë°°í¬  
> - ì›¹í›… ê¸°ë°˜ ë°°í¬ ì—°ë™ ë° í…ŒìŠ¤íŠ¸ ìë™í™”

---

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

- CI Trigger: GitHub Webhook  
- CI Server: Jenkins (Docker ê¸°ë°˜)  
- Container Registry: DockerHub  
- K8s: Master 1ëŒ€, Worker 6ëŒ€ ìš´ì˜ (192.0.20.90~95)  
- LoadBalancer: MetalLB (192.0.20.100~200)  
- Storage: Longhorn + PVC
- Monitoring: Prometheus + Grafana  
- Log: Logstash â†’ Elasticsearch â†’ Kibana  
- Ingress ssl ì¸ì¦ì„œ ì ìš©ìš©


<img src="https://github.com/user-attachments/assets/772e1bce-3339-4ea9-805b-a6b122d66347" width="617" />

---

## ğŸ“š ë°ë¸Œì˜µìŠ¤ í”„ë¡œì íŠ¸ ëª©í‘œ

- `CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶•` : ì½”ë“œ ë³€ê²½ â†’ ìë™ ë¹Œë“œ â†’ í…ŒìŠ¤íŠ¸ â†’ ë°°í¬ê¹Œì§€ ìë™í™”
- `ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…` : ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒíƒœ ëª¨ë‹ˆí„°ë§ (Prometheus, Grafana ë“±)
- `ì»¨í…Œì´ë„ˆí™” ë° ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜` : Docker, Kubernetes ë“±ì„ í†µí•œ ë°°í¬ ë° í™•ì¥ì„± í™•ë³´
- `ë³´ì•ˆ ë° ë°±ì—… ê´€ë¦¬` : ì„œë²„ ë³´ì•ˆ, SSL ì¸ì¦ì„œ ê´€ë¦¬, ì •ê¸° ë°±ì—… ìë™í™”

---

## âš™ï¸ ì£¼ìš” ê¸°ëŠ¥ ì‹œì—°

<details>
<summary>âœ… Jenkins ê¸°ë°˜ ìë™í™”</summary>

- Webhook ì´ë²¤íŠ¸ ê°ì§€ â†’ Git clone â†’ í…ŒìŠ¤íŠ¸/ë¹Œë“œ â†’ DockerHub push â†’ K8s ë°°í¬  
![MonthlyLife_jenkins_pipeline](https://github.com/user-attachments/assets/e1aac91d-a6ab-47b8-9b66-807bb6a1e69c)

</details>

<details>
<summary>âœ… ë¬´ì¤‘ë‹¨ ë°°í¬ (Blue/Green Deployment)</summary>

- ê¸°ì¡´ ë°°í¬ë¥¼ ìœ ì§€í•œ ì±„, ê¸°ì¡´ê³¼ ë‹¤ë¥¸ ìƒ‰ìƒì˜ Kubernetes Deploymentë¥¼ ì—…ë¡œë“œ
- actuator health checkë¥¼ ì´ìš©í•˜ì—¬ ì •ìƒ ìƒíƒœ í™•ì¸ í›„ ì œì–´
- `kubectl rollout status`, `kubectl scale` ë“±ì„ í†µí•œ íŠ¸ë˜í”½ ì „í™˜ ë° ì œì–´  
- ì¥ì•  ë°œìƒ ì‹œ ë¹ ë¥´ê²Œ ë¡¤ë°± ê°€ëŠ¥

</details>

<details>
<summary>âœ… ì ì§„ì  ë°°í¬ (Canary Deployment)</summary>

- ê¸°ì¡´ ë°°í¬ë¥¼ ìœ ì§€í•œ ì±„, ìƒˆë¡œìš´ Kubernetes Deploymentë¥¼ ì—…ë¡œë“œ
- Ingressë¥¼ ì´ìš©í•˜ì—¬ ì„ì˜ì˜ ë¹„ìœ¨ì˜ ìœ ì €ëŠ” ìƒˆë¡œìš´ Frontend, ë‚˜ë¨¸ì§€ëŠ” ê¸°ì¡´ Frontendë¡œ ì—°ê²°
- ì²˜ìŒ ì‚¬ì´íŠ¸ì— ì ‘ì†í•˜ë©´ cookieë¥¼ ì´ìš©í•˜ì—¬ í•´ë‹¹ ë²„ì „ìœ¼ë¡œ ê³ ì •
- `kubectl rollout status`, `kubectl scale` ë“±ì„ í†µí•œ íŠ¸ë˜í”½ ì „í™˜ ë° ì œì–´  
- ì¥ì•  ë°œìƒ ì‹œ ë¹ ë¥´ê²Œ ë¡¤ë°± ê°€ëŠ¥
- canary test
![canary_test](https://github.com/user-attachments/assets/a2f7bda2-5dbd-460d-9d7b-be36ac913e4b)

ì²˜ìŒ ë‘ ë²ˆì€ ê¸°ì¡´ í”„ë¡ íŠ¸ì—”ë“œë¡œ ì—°ê²°, ë§ˆì§€ë§‰ í•œ ë²ˆì€ ìƒˆë¡œìš´ ë²„ì „ì˜ í”„ë¡ íŠ¸ì—”ë“œë¥¼ í™•ì¸(ì¿ í‚¤ë¥¼ ì‚­ì œí•˜ì—¬ ë³€ê²½)
ì ì§„ì ìœ¼ë¡œ ê¸°ì¡´ ë²„ì „ê³¼ ìƒˆë¡œìš´ ë²„ì „ì˜ ë…¸ì¶œ ë¹„ìœ¨ì„ ë³€ê²½í•˜ì—¬ ë°°í¬í¬

</details>

<details>
<summary>âœ… ìë™í™” + ë¬´ì¤‘ë‹¨ ë°°í¬ í…ŒìŠ¤íŠ¸ ì˜ìƒ</summary>

- [ë¬´ì¤‘ë‹¨ ë°°í¬ í…ŒìŠ¤íŠ¸ ì˜ìƒ](https://drive.google.com/file/d/1BSC3BdyDtF_MrZUQtffgR682OGdFT0uh/view?usp=drive_link)
- í…ŒìŠ¤íŠ¸ ë°©ë²• : ë°±ì—”ë“œ ì„œë²„ë¥¼ ì§€ì†ì ìœ¼ë¡œ í˜¸ì¶œí•˜ëŠ” ë™ì•ˆ main branchì— pushí•˜ì—¬ ìë™í™” ë°°í¬ ë° ì¤‘ë‹¨ ì—¬ë¶€ í™•ì¸

</details>



<details>
<summary>âœ… ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…</summary>

- Grafana ëŒ€ì‹œë³´ë“œ: http://192.0.20.90:31189/  
- Prometheus ìƒíƒœ í™•ì¸: http://192.0.20.140/  
- Elasticsearch ë³´ì•ˆ ì—°ê²°: quickstart-es-http.elk.svc  

![grafana_dashboard](https://github.com/user-attachments/assets/964f0bb2-ea60-42b4-bcc8-514173eebdb8)

</details>

<details>
<summary>âœ… Elasticsearch ì—°ë™ íŒŒì´í”„ë¼ì¸</summary>

- Logstash ì„¤ì •ìœ¼ë¡œ Sale ì •ë³´ JSON ë³€í™˜ í›„ Elasticsearch ì €ì¥  
- ë§ˆë¦¬ì•„DB â†’ Logstash JDBC â†’ ë³€í™˜ í•„í„° â†’ Elastic  
- ì£¼ê¸°ì  ìŠ¤ì¼€ì¤„: `* * * * *`

</details>

---

## ğŸ“‚ í”„ë¡œì íŠ¸ í´ë” ë°”ë¡œê°€ê¸°

- [ğŸ“ Backend Repository](https://github.com/beyond-sw-camp/be12-fin-Gongcha1-MonthlyLIfe-BE)
- [ğŸ“ Infra/DevOps YAML](https://github.com/beyond-sw-camp/be12-fin-Gongcha1-MonthlyLIfe-BE/tree/develop/devops)
- [ğŸ“ Frontend Repository](https://github.com/beyond-sw-camp/be12-fin-Gongcha1-MonthlyLIfe-FE) 

â— ë¯¸ì™„ì„± ì •ë³´ëŠ” í™•ì¸ í›„ ë³´ì™„ ë°”ëë‹ˆë‹¤.
